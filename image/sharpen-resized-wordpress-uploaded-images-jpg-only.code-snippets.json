{"generator":"Code Snippets v2.10.1.1","date_created":"2018-08-17 09:58","snippets":[{"name":"Sharpen Resized WordPress uploaded Images (jpg only)","desc":"<span style=\"color: #555555; font-family: Roboto, sans-serif;\">This great snippet by\u00a0<\/span><a style=\"box-sizing: border-box; margin: 0px; padding: 0px; vertical-align: baseline; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: #d55224; text-decoration-line: none; font-family: Roboto, sans-serif;\" href=\"https:\/\/profiles.wordpress.org\/unsalkorkmaz\/\" target=\"_blank\" rel=\"noopener\">Unsal Korkmaz<\/a><span style=\"color: #555555; font-family: Roboto, sans-serif;\">\u00a0that will sharpen resized images uploaded to wordpress (jpg only). This is a great way to fix blurry jpg thumbnail images. If you would rather use this as a plugin you can now\u00a0<\/span><a style=\"box-sizing: border-box; margin: 0px; padding: 0px; vertical-align: baseline; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: #d55224; outline: none; font-family: Roboto, sans-serif;\" href=\"https:\/\/wordpress.org\/plugins\/sharpen-resized-images\/\" target=\"_blank\" rel=\"noopener\">download it from the WordPress plugin directory<\/a><span style=\"color: #555555; font-family: Roboto, sans-serif;\">.<\/span>\r\n\r\n@link\u00a0<a href=\"http:\/\/wpsnipp.com\/index.php\/functions-php\/sharpen-resized-wordpress-uploaded-images-jpg\/\" target=\"_blank\" rel=\"noopener\">http:\/\/wpsnipp.com\/index.php\/functions-php\/sharpen-resized-wordpress-uploaded-images-jpg\/<\/a>\r\n\r\n<b>Alle Grafiken nach der Gr\u00f6ssenanpassung sch\u00e4rfen<\/b>\r\n\r\nDieses gro\u00dfartige Snippet von Unsal Korkmaz, das die Gr\u00f6\u00dfe der Bilder, die in Wordpress hochgeladen wurden, sch\u00e4rft (nur jpg). Dies ist eine gro\u00dfartige M\u00f6glichkeit, verschwommene jpg-Miniaturbilder zu korrigieren. Wenn Sie es lieber als Plugin verwenden m\u00f6chten, k\u00f6nnen Sie es jetzt aus dem WordPress-Plugin-Verzeichnis herunterladen.","tags":["image"],"scope":"admin","code":"function wps_sharpen_resized_file( $resized_file ) {\r\n    $image = wp_load_image( $resized_file );\r\n    if ( !is_resource( $image ) )\r\n        return new WP_Error( 'error_loading_image', $image, $file );\r\n    $size = @getimagesize( $resized_file );\r\n    if ( !$size )\r\n        return new WP_Error('invalid_image', __('Could not read image size'), $file);\r\n    list($orig_w, $orig_h, $orig_type) = $size;\r\n    switch ( $orig_type ) {\r\n        case IMAGETYPE_JPEG:\r\n            $matrix = array(\r\n                array(-1, -1, -1),\r\n                array(-1, 16, -1),\r\n                array(-1, -1, -1),\r\n            );\r\n            $divisor = array_sum(array_map('array_sum', $matrix));\r\n            $offset   = 0;\r\n            imageconvolution($image, $matrix, $divisor, $offset);\r\n            imagejpeg($image, $resized_file,apply_filters( 'jpeg_quality', 90, 'edit_image' ));\r\n            break;\r\n        case IMAGETYPE_PNG:\r\n            return $resized_file;\r\n        case IMAGETYPE_GIF:\r\n            return $resized_file;\r\n    }\r\n    return $resized_file;\r\n}\r\nadd_filter('image_make_intermediate_size', 'wps_sharpen_resized_file',900);"}]}