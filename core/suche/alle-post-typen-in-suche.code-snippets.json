{"generator":"Code Snippets v2.10.2","date_created":"2018-08-30 07:57","snippets":[{"name":"Alle Post-Typen in Suche","desc":"Dieses Snippet enth\u00e4lt automatisch alle \u00f6ffentlichen Beitragstypen, die nicht von Suchanfragen in Ihren Suchergebnissen ausgeschlossen wurden.","tags":["wp_search","custom_post_type"],"scope":"front-end","code":"function pippin_include_post_types_in_search($query) {\r\n\tif(is_search() && is_main_query()) {\r\n\t\t$post_types = get_post_types(array('public' => true, 'exclude_from_search' => false), 'objects');\r\n\t\t$searchable_types = array();\r\n\t\tif($post_types) {\r\n\t\t\tforeach( $post_types as $type) {\r\n\t\t\t\t$searchable_types[] = $type->name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t$query->set('post_type', $searchable_types);\r\n\t}\r\n\treturn $query;\r\n}\r\nadd_action('pre_get_posts', 'pippin_include_post_types_in_search');"}]}